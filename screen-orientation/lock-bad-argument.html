<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
  promise_test(async t => {
    await test_driver.bless("request full screen", () => {
      return document.documentElement.requestFullscreen();
    });
    const invalid_lock_types = [
      "invalid-orientation",
      null,
      undefined,
      123,
      window,
      "",
      true,
      ["portrait-primary", "landscape-primary"]
    ];
    const promisesToReject = invalid_lock_types.map(type =>
      promise_rejects(t, new TypeError(), screen.orientation.lock(type))
    );
    return Promise.all(promisesToReject);
  }, "screen.orientation.lock() must throw given invalid input.");

  promise_test(async t => {
    await test_driver.bless("request full screen", () => {
      return document.documentElement.requestFullscreen();
    });
    return promise_rejects(t, new TypeError(), screen.orientation.lock());
  }, "screen.orientation.lock() must throw when the input is missing.");
</script>
